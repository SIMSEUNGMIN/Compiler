package noo2c;
import java.util.HashMap;
import java.util.Map;
import java.util.regex.Pattern;
import java.util.regex.Matcher;

/**
 * Created by eschough on 2019-09-02.
 */
 
// find command pattern from input, and convert it to cmd
// CmdExtractor는 input으로부터 CMD pattern을 찾아 parsing

public class  CmdExtractor {
	public enum Cmds {
		// pattern (명령어를 상수화)
		CMD1("'\""), CMD2("'\"\""), CMD3("'\"\"\""), CMD4("'\"\"\"\""), CMD5("'\"\"\"\"\"");
		
		String matchedStr;
		
		private Cmds(String recvString){
			this.matchedStr = recvString;
		}
    }
	
	String testString = null;
	
	public CmdExtractor(String recv) {
		this.testString = recv;
		run();
	}
	
	public void run() {
		//파일로부터 읽어온 String중에서 '로 시작하고 "가 1개 이상인 Cmd를 찾아 낸다.
		Pattern pattern = Pattern.compile("'\"+");
		Matcher matcher = pattern.matcher(testString);
		
		//매치된 결과로 나온 데이터들 (matcher.group(), matcher,start(), matcher.end())를
		//checkTheCmd 함수에 넣어 어떤 CMD인지 구분한다
		while(matcher.find()) {
			System.out.println("문자 : " + matcher.group() + ", 시작 부분 : " + matcher.start() + ", 끝 부분 : " + matcher.end());
			checkTheCmd(matcher.group(), matcher.regionStart(), matcher.end());
		}
	}
	
	public void checkTheCmd(String cmd, int start, int end) {
		
	}
}
